// This file was generated by SquareLine Studio
// SquareLine Studio version: SquareLine Studio 1.3.0
// LVGL version: 8.3.6
// Project name: ae_52mm_gauge

#include "ui.h"
#include "Arduino.h"

extern bool wifiOffState;
bool settingsState = false;
bool wifiSettingsState = false;

void toggleWiFi(lv_event_t * e)
{
	if (!settingsState)
	{
		if (!wifiOffState)
		{
			lv_img_set_src(ui_wifiIcon, &ui_img_2104900491); // WiFi off
			_ui_label_set_property(ui_feedbackLabel, _UI_LABEL_PROPERTY_TEXT, "WiFi Off!");
			lv_obj_add_flag(ui_Spinner1, LV_OBJ_FLAG_HIDDEN);
		}
		else
		{
			lv_img_set_src(ui_wifiIcon, &ui_img_807091229); // WiFi on
			_ui_label_set_property(ui_feedbackLabel, _UI_LABEL_PROPERTY_TEXT, "WiFi Connecting...");
			lv_obj_clear_flag(ui_Spinner1, LV_OBJ_FLAG_HIDDEN);
		}
	}
	else
	{
		if (!wifiSettingsState)
		{
			lv_obj_add_flag(ui_Spinner1, LV_OBJ_FLAG_HIDDEN);
			lv_obj_add_flag(ui_wifiIcon, LV_OBJ_FLAG_HIDDEN);
			lv_obj_add_flag(ui_aeLandingIcon, LV_OBJ_FLAG_HIDDEN);
			lv_obj_add_flag(ui_settingsIcon, LV_OBJ_FLAG_HIDDEN);

			lv_obj_clear_flag(ui_SSIDLabel, LV_OBJ_FLAG_HIDDEN);
			lv_obj_clear_flag(ui_SSIDInputText, LV_OBJ_FLAG_HIDDEN);
			lv_obj_clear_flag(ui_SSIDPasswordInputText, LV_OBJ_FLAG_HIDDEN);
			lv_obj_clear_flag(ui_SSIDPasswordLabel, LV_OBJ_FLAG_HIDDEN);
			//lv_obj_add_flag(ui_feedbackLabel, LV_OBJ_FLAG_HIDDEN);	
		}
		else
		{
			wifiSettingsState = true;
		}
	}
	wifiOffState = !wifiOffState;
}

void settingsButtonPressedFunction(lv_event_t * e)
{
	settingsState = !settingsState;
	if (settingsState)
	{
		lv_obj_add_flag(ui_Spinner1, LV_OBJ_FLAG_HIDDEN);
		//lv_obj_add_flag(ui_wifiIcon, LV_OBJ_FLAG_HIDDEN);
		lv_img_set_src(ui_wifiIcon, &ui_img_943648365); // WiFi off
		lv_obj_add_flag(ui_aeLandingIcon, LV_OBJ_FLAG_HIDDEN);
		lv_obj_add_flag(ui_settingsIcon, LV_OBJ_FLAG_HIDDEN);
		_ui_label_set_property(ui_feedbackLabel, _UI_LABEL_PROPERTY_TEXT, "SETTINGS: ");
		lv_obj_clear_flag(ui_landingBackButton, LV_OBJ_FLAG_HIDDEN);
	}
	
}

void landingBackButtonPressedFunction(lv_event_t * e)
{
	lv_obj_clear_flag(ui_feedbackLabel, LV_OBJ_FLAG_HIDDEN);
	lv_obj_clear_flag(ui_wifiIcon, LV_OBJ_FLAG_HIDDEN);
	lv_obj_clear_flag(ui_aeLandingIcon, LV_OBJ_FLAG_HIDDEN);
	lv_obj_clear_flag(ui_settingsIcon, LV_OBJ_FLAG_HIDDEN);
	lv_obj_add_flag(ui_landingBackButton, LV_OBJ_FLAG_HIDDEN);
	if (!wifiOffState)
	{
		_ui_label_set_property(ui_feedbackLabel, _UI_LABEL_PROPERTY_TEXT, "WiFi Off!");
	}
	else
	{
		_ui_label_set_property(ui_feedbackLabel, _UI_LABEL_PROPERTY_TEXT, "WiFi Connecting...");
		lv_obj_clear_flag(ui_Spinner1, LV_OBJ_FLAG_HIDDEN);

	}
	settingsState = !settingsState;
}
